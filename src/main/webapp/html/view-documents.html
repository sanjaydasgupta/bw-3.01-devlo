<div class="panel panel-primary">
  <div class="panel-heading">
    View Documents
  </div>

  <div class="panel-body fixed-panel container-fluid" style="padding:5px">
    <div class="row center-block" style="padding:5px 5px; border:2px solid #337ab7; width:100%">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding:0px;">
        <table width="100%">
          <tr><th style="background-color:#337ab7; text-align:center; color:white;">Document Attributes</th></tr>
        </table>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        &nbsp;&nbsp;<span style="font-weight:bold;">Category</span>&nbsp;
        <div class="btn-group" data-uib-dropdown data-dropdown-append-to="appendToEl">
          <button id="btn-type" type="button" class="btn btn-info btn-xs" data-uib-dropdown-toggle>
            {{viewDocsCtrl.currentCategoryKey}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" data-uib-dropdown-menu role="menu" aria-labelledby="btn-type"
              style="min-width:50px">
            <li class="dropdown-item" data-ng-repeat="category in viewDocsCtrl.documentCategories">
              <a href="javascript:void(0)" style="padding:3px;"
                 data-ng-click="viewDocsCtrl.fetchDocumentsByCategory(category)">{{category}}</a>
            </li>
            <li class="divider" style="margin:1px;"></li>
            <li class="dropdown-item"><a href="javascript:void(0)"
                data-ng-click="viewDocsCtrl.fetchDocumentsByCategory('Any')" style="padding:3px;">Any</a></li>
          </ul>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        &nbsp;&nbsp;<span style="font-weight:bold;">Subcategory</span>&nbsp;
        <div class="btn-group" data-uib-dropdown data-dropdown-append-to="appendToEl">
          <button id="btn-subcategory" type="button" class="btn btn-info btn-xs" data-uib-dropdown-toggle>
            {{viewDocsCtrl.currentSubcategoryKey}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" data-uib-dropdown-menu role="menu" aria-labelledby="btn-subcategory"
              style="min-width:50px">
            <li class="dropdown-item" data-ng-repeat="subcategory in viewDocsCtrl.documentSubcategories"><a href="javascript:void(0)"
                data-ng-click="viewDocsCtrl.fetchDocumentsBySubcategory(subcategory)" style="padding:3px;">{{subcategory}}</a></li>
            <li class="divider" style="margin:1px;"></li>
            <li class="dropdown-item"><a href="javascript:void(0)"
                data-ng-click="viewDocsCtrl.fetchDocumentsBySubcategory('Any')" style="padding:3px;">Any</a></li>
          </ul>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        &nbsp;&nbsp;Content&nbsp;
        <div class="btn-group" data-uib-dropdown data-dropdown-append-to="appendToEl">
          <button id="btn-content" type="button" class="btn btn-info btn-xs" data-uib-dropdown-toggle>
            {{viewDocsCtrl.currentContentKey}} <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" data-uib-dropdown-menu role="menu" aria-labelledby="btn-content"
              style="min-width:50px">
            <li class="dropdown-item" data-ng-repeat="contentType in viewDocsCtrl.contentTypes"><a href="javascript:void(0)"
                data-ng-click="viewDocsCtrl.fetchDocumentsByContent(contentType)" style="padding:3px;">{{contentType}}</a></li>
            <li class="divider" style="margin:1px;"></li>
            <li class="dropdown-item"><a href="javascript:void(0)"
                data-ng-click="viewDocsCtrl.fetchDocumentsByContent('Any')" style="padding:3px;">Any</a></li>
          </ul>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        &nbsp;&nbsp;Name&nbsp;
        <input type="text" data-ng-model="viewDocsCtrl.documentName" size="15" style="height:20px; margin:1px;" />
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        &nbsp;&nbsp;Descr&nbsp;
        <input type="text" data-ng-model="viewDocsCtrl.documentDescription" size="15" style="height:20px; margin:1px;" />
      </div>
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-2" style="padding:3px; border:1px solid #337ab7;">
        <button class="btn btn-xs btn-info" data-ng-click="viewDocsCtrl.findRecords()"><span class="glyphicon glyphicon-search"></span> Find</button>
      </div>
    </div>
    <div data-ng-if="viewDocsCtrl.findModeActive" class="row center-block" style="padding:5px 5px; margin-top:3px; border:2px solid #337ab7; width:100% vertical-align:top;">
      <table width="100%">
        <tr><th style="background-color:#337ab7; text-align:center; color:white;">Found {{viewDocsCtrl.records.length}} File(s)</th></tr>
      </table>
      <div style="height:100px; max-height:100px; min-height:100px; overflow:auto;">
        <table border="1" width="100%">
          <tr><th style="text-align:center;">Name</th><th style="text-align:center;">Description</th>
            <th style="text-align:center;">Download</th><th style="text-align:center;">Versions</th>
            <th style="text-align:center;">Select</th></tr>
          <tr data-ng-repeat="record in viewDocsCtrl.records" style="background-color:{{viewDocsCtrl.getColor(record)}};">
            <td style="text-align:center;">{{record.name}}</td><td style="text-align:center;">{{record.description}}</td>
            <td style="text-align:center;"><a href="{{record.link}}" target="_blank">download</a></td>
            <td style="text-align:center;">{{record.versions.length}}</td>
            <td style="text-align:center;">
              <a href="javascript:void(0);" data-ng-click="viewDocsCtrl.selectRecord(record)">select</a>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div data-ng-if="viewDocsCtrl.recordSelected" class="row center-block"
         style="padding:5px 5px; margin-top:3px; border:2px solid #337ab7; width:100% vertical-align:top;">
      <table width="100%">
        <tr><th style="background-color:#337ab7; text-align:center; color:white;">Selected Versions</th></tr>
      </table>
      <div style="height:75px; max-height:75px; min-height:75px; overflow:auto;">
        <table border="1" width="100%">
          <tr><th style="text-align:center;">File-Name</th><th style="text-align:center;">Comments</th><th style="text-align:center;">Timestamp</th>
            <th style="text-align:center;">Author</th><th style="text-align:center;">Download</th></tr>
          <tr data-ng-repeat="version in viewDocsCtrl.versions">
            <td style="text-align:center;">{{version.file_name}}</td><td style="text-align:center;">{{version.comments}}</td>
            <td style="text-align:center;">{{version.date_time}}</td><td style="text-align:center;">{{version.author_name}}</td>
            <td style="text-align:center;"><a href="{{version.link}}" target="_blank">download</a></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>

